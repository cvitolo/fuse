<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Framework for Understanding Structural Errors &bull; fuse</title><!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous"><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet"><script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><!-- mathjax --><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">fuse</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="http://dx.doi.org/10.21105/joss.00052">JOSS paper</a>
    </li>
    <li>
      <a href="articles/index.html">Vignette</a>
    </li>
  </ul></li>
<li>
  <a href="news/index.html">News</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/cvitolo/fuse/">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    

    
    
<div class="contents">
<!-- Edit the README.Rmd only!!! The README.md is generated automatically from README.Rmd. -->
<div id="fuse-an-r-package-implementing-the-framework-for-understanding-structural-errors" class="section level2">
<h2 class="hasAnchor"><a href="#fuse-an-r-package-implementing-the-framework-for-understanding-structural-errors" class="anchor"> </a>fuse: an R package implementing the Framework for Understanding Structural Errors</h2>

<p><a href="https://travis-ci.org/cvitolo/fuse.svg?branch=master"><img src="https://travis-ci.org/cvitolo/fuse.svg" alt="Build Status"></a> <a href="https://ci.appveyor.com/project/cvitolo/fuse"><img src="https://ci.appveyor.com/api/projects/status/github/cvitolo/fuse?branch=master&amp;svg=true" alt="AppVeyor Build Status"></a> <a href="https://codecov.io/github/cvitolo/fuse?branch=master"><img src="https://codecov.io/github/cvitolo/fuse/coverage.svg?branch=master" alt="codecov.io"></a></p>
<p>The fuse modelling framework takes as input rainfall and potential evapotranspiration time series (areal averages over the river catchment area) and returns a simulated time series of river discharges. It can be used to understand the variability of expected hydrological responses based on model structures.</p>
<p>This package is an implementation of the framework for hydrological modelling FUSE described in Clark et al. (2008) and based on the Fortran code provided by M. Clark in 2011. The package consists of two modules: Soil Moisture Accounting module (fusesma.sim) and Gamma routing module (fuserouting.sim). It also contains default parameter ranges (fusesma.ranges and fuserouting.ranges) and three data objects: fuse_hydrological_timeseries (sample input dataset), parameters (sample parameters) and modlist (list of FUSE model structures).</p>
<div id="dependencies" class="section level3">
<h3 class="hasAnchor"><a href="#dependencies" class="anchor"> </a>Dependencies</h3>
<p>The fuse package, as well as the examples in the vignette, depend on a number of CRAN packages. Check for missing dependencies and install them:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">packs &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"dplyr"</span>, <span class="st">"zoo"</span>, <span class="st">"tgp"</span>, <span class="st">"stats"</span>, <span class="st">"utils"</span>, <span class="st">"BH"</span>, <span class="st">"Rcpp"</span>, <span class="st">"testthat"</span>,
           <span class="st">"qualV"</span>, <span class="st">"devtools"</span>)
new.packages &lt;-<span class="st"> </span>packs[!(packs %in%<span class="st"> </span><span class="kw">installed.packages</span>()[, <span class="st">"Package"</span>])]
if(<span class="kw">length</span>(new.packages)) <span class="kw">install.packages</span>(new.packages)</code></pre></div>
</div>
<div id="installation" class="section level3">
<h3 class="hasAnchor"><a href="#installation" class="anchor"> </a>Installation</h3>
<p>You can install this package from Github with <a href="https://github.com/hadley/devtools">devtools</a>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">devtools::<span class="kw">install_github</span>(<span class="st">"cvitolo/fuse"</span>)</code></pre></div>
<p>Load the package:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">"fuse"</span>)</code></pre></div>
</div>
<div id="usage" class="section level3">
<h3 class="hasAnchor"><a href="#usage" class="anchor"> </a>Usage</h3>
<p>The simplest way to test <code>fuse</code> is to use the dummy data provided with this package, sample the parameter range using the built-in function <code><a href="reference/generateParameters.html">generateParameters()</a></code> and run the model with 1 model structure (e.g.&nbsp;TOPMODEL):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Load the dummy data</span>
<span class="kw">data</span>(fuse_hydrological_timeseries)

<span class="co"># Sample the parameter range</span>
parameters &lt;-<span class="st"> </span><span class="kw"><a href="reference/generateParameters.html">generateParameters</a></span>(<span class="dv">1</span>)

<span class="co"># Run fuse </span>
streamflow &lt;-<span class="st"> </span><span class="kw"><a href="reference/fuse.html">fuse</a></span>(<span class="dt">DATA =</span> fuse_hydrological_timeseries, 
                   <span class="dt">mid =</span> <span class="dv">60</span>,       <span class="co"># Model structure = TOPMODEL</span>
                   <span class="dt">deltim =</span> <span class="dv">1</span>,     <span class="co"># Daily time step</span>
                   <span class="dt">ParameterSet =</span> parameters)

<span class="kw">plot</span>(streamflow, <span class="dt">xlab =</span> <span class="st">""</span>, <span class="dt">ylab =</span> <span class="st">"Streamflow [mm/day]"</span>)</code></pre></div>
<p><img src="index_files/figure-html/example-1.png" width="672"></p>
<p>For details and more complex examples (e.g.&nbsp;multi-model ensemble), please refer to the <a href="vignettes/fuse_vignette.Rmd">vignette</a>.</p>
<p>Fortran users are advised to refer to the latest version of fuse available <a href="https://github.com/naddor/fuse">here</a>.</p>
</div>
<div id="meta" class="section level3">
<h3 class="hasAnchor"><a href="#meta" class="anchor"> </a>Meta</h3>
<ul><li>Code contributions are welcome! Please note that this project is released with a <a href="CONDUCT.md">Contributor Code of Conduct</a>. By participating in this project you agree to abide by its terms.</li>
<li>Please <a href="https://github.com/cvitolo/fuse/issues">report any issues or bugs</a>.</li>
<li>License: <a href="https://opensource.org/licenses/GPL-3.0">GPL-3</a></li>
<li>Get citation information for the <code>fuse</code> package in R doing <code>citation(package = 'fuse')</code></li>
</ul></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Links</h2><ul class="list-unstyled"><li>Browse source code at <br><a href="https://github.com/cvitolo/fuse">https://&#8203;github.com/&#8203;cvitolo/&#8203;fuse</a></li>
<li>Report a bug at <br><a href="https://github.com/cvitolo/fuse/issues">https://&#8203;github.com/&#8203;cvitolo/&#8203;fuse/&#8203;issues</a></li>
</ul><h2>License</h2>
<p><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></p>
<h2>Developers</h2><ul class="list-unstyled"><li>Claudia Vitolo <br><small class="roles"> Author, maintainer </small> </li>
<li><a href="authors.html">All authors...</a></li>
</ul><html><body><h2>Dev status</h2><ul class="list-unstyled"><li><a href="https://zenodo.org/badge/latestdoi/67341718">
  <img src="https://zenodo.org/badge/67341718.svg" alt="DOI"></a></li>
<li><a href="http://joss.theoj.org/papers/392a55daada04a86f95eaa8da134a28d">
  <img src="http://joss.theoj.org/papers/392a55daada04a86f95eaa8da134a28d/status.svg" alt="status"></a></li>
</ul></body></html></div>

</div>


      <footer><div class="copyright">
  <p>Developed by Claudia Vitolo.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer></div>

  </body></html>
